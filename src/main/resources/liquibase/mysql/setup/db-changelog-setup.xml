<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">

    <!-- SCIENTIFIC FIELD -->
    <changeSet id="create-scientific-field" author="uros">
        <sqlFile path="ddl/create-scientific-field.sql" relativeToChangelogFile="true"/>
    </changeSet>
    <changeSet id="init-scientific-field" author="uros">
        <sqlFile path="dml/init-scientific-field.sql" relativeToChangelogFile="true"/>
    </changeSet>

    <!-- ACADEMIC TITLE -->
    <changeSet id="create-academic-title" author="uros">
        <sqlFile path="ddl/create-academic-title.sql" relativeToChangelogFile="true"/>
    </changeSet>
    <changeSet id="init-academic-title" author="uros">
        <sqlFile path="dml/init-academic-title.sql" relativeToChangelogFile="true"/>
    </changeSet>

    <!-- EDUCATION_TITLE -->
    <changeSet id="create-education-title" author="uros">
        <sqlFile path="ddl/create-education-title.sql" relativeToChangelogFile="true"/>
    </changeSet>
    <changeSet id="init-education-title" author="uros">
        <sqlFile path="dml/init-education-title.sql" relativeToChangelogFile="true"/>
    </changeSet>

    <!-- DEPARTMENT -->
    <changeSet id="create-department" author="d.savic">
        <sqlFile path="ddl/create-department.sql" relativeToChangelogFile="true"/>
    </changeSet>
    <changeSet id="add-department-foreign-keys" author="d.savic">
        <addForeignKeyConstraint
                baseTableName="tbl_department"
                baseColumnNames="supervisor_id"
                constraintName="supervisor_fk"
                referencedTableName="tbl_member"
                referencedColumnNames="id"/>
        <addForeignKeyConstraint
                baseTableName="tbl_department"
                baseColumnNames="secretary_id"
                constraintName="secretary_fk"
                referencedTableName="tbl_member"
                referencedColumnNames="id"/>
    </changeSet>

    <!-- MEMBER -->
    <changeSet id="create-member" author="uros">
        <sqlFile path="ddl/create-member.sql" relativeToChangelogFile="true"/>
    </changeSet>
    <changeSet id="add-member-foreign-keys" author="uros">
        <addForeignKeyConstraint
                baseTableName="tbl_member"
                baseColumnNames="department_id"
                constraintName="department_fk"
                referencedTableName="tbl_department"
                referencedColumnNames="id"/>
    </changeSet>

    <!-- INIT SUBJECT -->
    <changeSet id="init-subject" author="d.savic">
        <sqlFile path="dml/init-subject.sql" relativeToChangelogFile="true"/>
    </changeSet>

    <!-- INIT MEMBER -->
    <changeSet id="init-member" author="uros">
        <sqlFile path="dml/init-member.sql" relativeToChangelogFile="true"/>
    </changeSet>

    <!-- SUBJECT -->
    <changeSet id="create-subject" author="d.savic">
        <sqlFile path="ddl/create-subject.sql" relativeToChangelogFile="true"/>
    </changeSet>

</databaseChangeLog>
